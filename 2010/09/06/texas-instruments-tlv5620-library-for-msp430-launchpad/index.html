<!DOCTYPE html><html><head><meta charset="utf-8"/><link href="http://feeds.feedburner.com/suspended-chord/blog" rel="alternate" title="a-&gt;ab" type="application/rss+xml"/><link href="https://plus.google.com/114523146530319290209/posts" rel="author"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><link href="/static/assets/packed.css" media="all" rel="stylesheet" type="text/css"/><script src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript">
    </script><title>Texas Instruments TLV5620 library for MSP430 LaunchPad | a-&gt;ab</title></head><body><div class="container"><header><h1>a→ab</h1><h2>computation, game design, and experimentation</h2><br/> <a href="/">front page</a> | <a href="/about">about</a> | <a href="/archives">archives</a> | <a href="/code-dump">code dump</a> | <a href="/csmm">c.s. for mere mortals</a> | <a href="/tags">tags</a> | <span class="rss"><a href="http://feeds.feedburner.com/suspended-chord/blog">rss feed</a></span></header><section><div class="column"><article class="post"><header><h1>Texas Instruments TLV5620 library for MSP430 LaunchPad</h1><span class="date">September 6, 2010</span><br/> <span class="tags">tags: <a href="/tag/code-dump/">code-dump</a></span></header><section class="content"><p>Hey all. I've written a library for the TLV5620 8-bit quad-channel DAC from TI. This is a wonderful little chip which works on the SPI interface and supports simultaneous update of all four channels of the DAC. Datasheet available from TI <a href="http://www.ti.com/litv/pdf/slas110b">here</a>.</p><p>The library is available for download from this very blog. The link is at the end of this post.</p><p>I have also coded up an example application showing all the features of the chip. Code available:</p><p><a href="https://github.com/gatesphere/blog-resources/raw/master/downloads/source/launchpad5620waveform.c">click here</a>.</p><p>This example application is a simple quad-waveform generator operating on all four DACs the 5620 has, and updating them all simultaneously. The circuit is as follows (pin numbers refer to pins on the TLV5620):</p><p>pin 1 - GND (gnd)</p><p>pin 2 - VCC (vref for DACA)</p><p>pin 3 - VCC (vref for DACB)</p><p>pin 4 - VCC (vref for DACC)</p><p>pin 5 - VCC (vref for DACD)</p><p>pin 6 - P1.0 (data)</p><p>pin 7 - P1.2 (clock)</p><p>pin 8 - P1.3 (load, like data latch)</p><p>pin 9 - DACD output</p><p>pin 10 - DACC output</p><p>pin 11 - DACB output</p><p>pin 12 - DACA output</p><p>pin 13 - P1.1 (ldac, controls simultaneous update)</p><p>pin 14 - VCC (VDD)</p><p>The use of the library is relatively self-explanatory, by looking at the example code. One thing to note is that the function tlv5620_simultaneousUpdate() only should be called if you are using the simultaneous update feature of the TLV5620. Otherwise, I would suggest calling tlv5620_updateMode(ASYNCHRONOUS, LDACPIN, LDACPORT) at the beginning of your program to initialize the LDAC pin to LOW.</p><p>To compile this example, make sure the source file and the two source files in the library are in the same directory, and within whichever environment you use (untested outside of CCS4), that the symbol pertaining to whichever MSP430 you are using is defined. For example, make sure that <strong>MSP430G2231</strong> is defined if you're using the G2231.</p><p>If anyone has any questions, just let me know either here or at the <a href="http://www.43oh.com/forum/viewtopic.php?f=10&amp;t=66">43oh forums</a>.</p><p>Download MSP430_TLV5620lib:</p><p><a href="https://github.com/gatesphere/blog-resources/raw/master/downloads/source/MSP430_TLV5620lib_20100906.zip">version 20100906</a></p><p>Keep tweaking</p><p>EDIT: featured on 43oh, again! Link <a href="http://www.43oh.com/2010/09/msp430-interface-to-a-ti-tlv5620-dac/">here</a>!</p></section><section class="comments"><div id="disqus_thread"></div><script src="http://disqus.com/forums/suschord/embed.js" type="text/javascript"> </script><noscript>&lt;a href="http://suschord.disqus.com/?url=ref"&gt;View the discussion thread.&lt;/a&gt;</noscript><a class="dsq-brlink" href="http://disqus.com">blog comments powered by <span class="logo-disqus">Disqus</span></a></section></article></div></section><footer>a→ab is the blog of Jake Peck, also known as <a href="http://suspended-chord.info/">suspended-chord</a></footer><script type="text/javascript">
var disqus_shortname = 'suschord';
(function () {
  var s = document.createElement('script'); s.async = true;
  s.src = 'http://disqus.com/forums/suschord/count.js';
  (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script></div></body></html>