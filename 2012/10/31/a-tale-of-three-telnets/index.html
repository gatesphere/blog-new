<!DOCTYPE html><html><head><meta charset="utf-8"/><link href="http://feeds.feedburner.com/suspended-chord/blog" rel="alternate" title="a-&gt;ab" type="application/rss+xml"/><link href="https://plus.google.com/114523146530319290209/posts" rel="author"/><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><link href="/static/assets/packed.css" media="all" rel="stylesheet" type="text/css"/><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript">
    </script><title>A tale of three telnets | a-&gt;ab</title></head><body><div class="container"><header><h1>a→ab</h1><h2>computation, game design, and experimentation</h2><br/> <a href="/">front page</a> | <a href="/about">about</a> | <a href="/archives">archives</a> | <a href="/code-dump">code dump</a> | <a href="/csmm">c.s. for mere mortals</a> | <a href="/tags">tags</a> | <span class="rss"><a href="http://feeds.feedburner.com/suspended-chord/blog">rss feed</a></span></header><section><div class="column"><article class="post"><header><h1>A tale of three telnets</h1><span class="date">October 31, 2012</span><br/> <span class="tags">tags: <a href="/tag/telnet/">telnet</a>, <a href="/tag/negotiation/">negotiation</a>, <a href="/tag/protocol/">protocol</a></span></header><section class="content"><p>Recently I've been building a telnet-compliant server in Io. Well, pseudo-compliant, but that's another story. But, in doing so, I've had to overcome how three different popular telnet clients interpret the standards, and had to work around these issues, especially with respect to negotiation.</p><h2>A primer on negotiation</h2><p>Negotiation is the method that telnet clients and servers use to express how they are going to behave to each other. It consists of sending sequences of bytes back and forth, leading to an understanding between the client and server. In the traditional implementations, the server almost always initiated negotiation with the client, rather than vice-versa.</p><p>Well, at least in theory, that's how things should operate. But in the three common clients that I'm using to test, this is not the case.</p><h2><code>telnet</code> from GNU inetutils</h2><p>This is the standard telnet client for unix-like operating systems, such as Linux.</p><p>This client likes to initiate negotiation, firing a stream off to the server as soon as it connects. It will handle either \n or \n\r as a newline character. It also listens to renegotiations (i.e., asking it to turn off it's local character echoing for entering a password, and then turning it back on).</p><h2>PuTTY</h2><p>PuTTY is a common and widely used ssh, telnet, and serial terminal client for multiple platforms. I prefer it over any of the others I've used, but that's probably because I use it every day for hours at a time for my job.</p><p>Much like the GNU <code>telnet</code> package, PuTTY likes to initiate negotiation upon connection, though it sends fewer commands over the wire than <code>telnet</code> does right off the bat. However, it needs a \n\r for a newline character. It also handles renegotiations gracefully.</p><h2>Windows <code>telnet</code></h2><p>This one is the ugly duckling of the group. Included by default with Windows, this one acts the strangest of the group.</p><p>This client does not initiate negotiation at all. It needs a \n\r for the newline character. It does <em>not</em> handle renegotiations at all.</p><p>Well, it actually does handle the negotiation itself, but it doesn't listen to them. The moment it recieves a negotiation stream, it shuts off local character echoing permanently. It will not re-enable it, even though it replies that it will.</p><p>Just some observations. Thought I'd share.</p></section><section class="comments"><div id="disqus_thread"></div><script src="http://disqus.com/forums/suschord/embed.js" type="text/javascript"> </script><noscript>&lt;a href="http://suschord.disqus.com/?url=ref"&gt;View the discussion thread.&lt;/a&gt;</noscript><a class="dsq-brlink" href="http://disqus.com">blog comments powered by <span class="logo-disqus">Disqus</span></a></section></article></div></section><footer>a→ab is the blog of Jake Peck, also known as <a href="http://suspended-chord.info/">suspended-chord</a></footer><script type="text/javascript">
var disqus_shortname = 'suschord';
(function () {
  var s = document.createElement('script'); s.async = true;
  s.src = 'http://disqus.com/forums/suschord/count.js';
  (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script></div></body></html>